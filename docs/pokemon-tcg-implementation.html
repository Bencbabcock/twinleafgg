<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokémon TCG Implementation Guide</title>
  <style>
    /* Reset and base styles */
    :root {
      --bg-primary: #1a1b26;
      --bg-secondary: #24283b;
      --bg-tertiary: #2f334d;
      --text-primary: #a9b1d6;
      --text-secondary: #7982a9;
      --accent-primary: #7aa2f7;
      --accent-secondary: #bb9af7;
      --border-color: #414868;
      --code-bg: #1f2335;

      /* Syntax highlighting */
      --code-keyword: #9d7cd8;
      --code-string: #9ece6a;
      --code-function: #7aa2f7;
      --code-comment: #565f89;
      --code-variable: #e0af68;
      --code-number: #ff9e64;
    }

    /* Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Base layout structure */
    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }

    /* Container layout */
    .documentation-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 300px;
      background: var(--bg-secondary);
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
      padding: 2rem;
      border-right: 1px solid var(--border-color);
    }

    /* Main content */
    .main-content {
      flex: 1;
      margin-left: 300px;
      padding: 2rem;
      max-width: calc(100% - 300px);
    }

    /* Documentation sections */
    .documentation-section {
      margin-bottom: 3rem;
      width: 100%;
      max-width: 1200px;
    }

    .documentation-section h2 {
      color: var(--accent-primary);
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--border-color);
    }

    /* Cards and boxes */
    .prefab-category,
    .type-card,
    .example-card,
    .implementation-box {
      background: var(--bg-secondary);
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .info-box {
      background: var(--bg-tertiary);
      padding: 1.5rem;
      border-radius: 6px;
      margin-top: 1rem;
    }

    /* Best practices box */
    .best-practice {
      background: var(--bg-tertiary);
      border-left: 4px solid var(--accent-primary);
      padding: 1.5rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }

    /* Code blocks */
    pre {
      background: var(--code-bg);
      border-radius: 6px;
      padding: 1rem;
      overflow-x: auto;
      margin: 1rem 0;
    }

    code {
      font-family: 'Fira Code', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }

    /* File references */
    .file-reference {
      color: var(--text-secondary);
      font-size: 0.8rem;
      margin-top: 1rem;
      padding: 0.5rem;
      background: var(--bg-tertiary);
      border-radius: 4px;
      display: inline-block;
    }

    /* Headings */
    h3 {
      color: var(--accent-primary);
      margin-bottom: 1.5rem;
    }

    h4 {
      color: var(--accent-secondary);
      margin-bottom: 1rem;
    }

    /* Lists */
    ul {
      list-style-type: none;
      padding-left: 0;
    }

    li {
      margin-bottom: 0.8rem;
      padding-left: 1.5rem;
      position: relative;
    }

    li:before {
      content: "→";
      color: var(--accent-primary);
      position: absolute;
      left: 0;
    }

    /* Grid layouts */
    .type-grid,
    .prefab-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-secondary);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-secondary);
    }

    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .sidebar {
        width: 250px;
      }

      .main-content {
        margin-left: 250px;
        max-width: calc(100% - 250px);
      }
    }

    @media (max-width: 768px) {
      .documentation-container {
        flex-direction: column;
      }

      .sidebar {
        position: static;
        width: 100%;
        height: auto;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
      }

      .main-content {
        margin-left: 0;
        max-width: 100%;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
</head>

<body>
  <div class="documentation-container">
    <nav class="sidebar">
      <div class="nav-header">
        <h1>PTG-TCG Docs</h1>
        <div class="version">v1.0.0</div>
      </div>

      <div class="nav-content">
        <div class="nav-section">
          <h3>Getting Started</h3>
          <ul>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#core-concepts">Core Concepts</a></li>
            <li><a href="#quick-start">Quick Start</a></li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Card System</h3>
          <ul>
            <li>
              <a href="#card-basics">Card Basics</a>
              <ul>
                <li><a href="#card-structure">Base Structure</a></li>
                <li><a href="#card-tags">Tags & Types</a></li>
                <li><a href="#card-interfaces">Interfaces</a></li>
              </ul>
            </li>
            <li>
              <a href="#pokemon-cards">Pokémon Cards</a>
              <ul>
                <li><a href="#pokemon-structure">Structure</a></li>
                <li><a href="#pokemon-attacks">Attacks</a></li>
                <li><a href="#pokemon-abilities">Abilities</a></li>
                <li><a href="#pokemon-effects">Effects</a></li>
              </ul>
            </li>
            <li>
              <a href="#trainer-cards">Trainer Cards</a>
              <ul>
                <li><a href="#trainer-types">Types</a></li>
                <li><a href="#trainer-effects">Effects</a></li>
              </ul>
            </li>
            <li>
              <a href="#energy-cards">Energy Cards</a>
              <ul>
                <li><a href="#energy-types">Types</a></li>
                <li><a href="#special-energy">Special Energy</a></li>
              </ul>
            </li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Prefab System</h3>
          <ul>
            <li>
              <a href="#damage-prefabs">Damage Prefabs</a>
              <ul>
                <li><a href="#basic-damage">Basic Damage</a></li>
                <li><a href="#conditional-damage">Conditional Damage</a></li>
                <li><a href="#damage-modification">Damage Modification</a></li>
              </ul>
            </li>
            <li>
              <a href="#effect-prefabs">Effect Prefabs</a>
              <ul>
                <li><a href="#special-conditions">Special Conditions</a></li>
                <li><a href="#status-effects">Status Effects</a></li>
                <li><a href="#effect-checks">Effect Checks</a></li>
              </ul>
            </li>
            <li>
              <a href="#marker-prefabs">Marker Prefabs</a>
              <ul>
                <li><a href="#marker-management">Marker Management</a></li>
                <li><a href="#marker-effects">Marker Effects</a></li>
                <li><a href="#marker-cleanup">Marker Cleanup</a></li>
              </ul>
            </li>
            <li>
              <a href="#deck-prefabs">Deck Prefabs</a>
              <ul>
                <li><a href="#deck-search">Deck Search</a></li>
                <li><a href="#deck-manipulation">Deck Manipulation</a></li>
              </ul>
            </li>
            <li>
              <a href="#tool-prefabs">Tool Prefabs</a>
              <ul>
                <li><a href="#tool-attachment">Tool Attachment</a></li>
                <li><a href="#tool-removal">Tool Removal</a></li>
              </ul>
            </li>
            <li>
              <a href="#prize-prefabs">Prize Prefabs</a>
              <ul>
                <li><a href="#prize-taking">Taking Prizes</a></li>
                <li><a href="#prize-manipulation">Prize Manipulation</a></li>
              </ul>
            </li>
            <li>
              <a href="#validation-prefabs">Validation Prefabs</a>
              <ul>
                <li><a href="#block-conditions">Block Conditions</a></li>
                <li><a href="#state-validation">State Validation</a></li>
              </ul>
            </li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Advanced Topics</h3>
          <ul>
            <li>
              <a href="#state-management">State Management</a>
              <ul>
                <li><a href="#store-system">Store System</a></li>
                <li><a href="#state-updates">State Updates</a></li>
              </ul>
            </li>
            <li>
              <a href="#effect-system">Effect System</a>
              <ul>
                <li><a href="#effect-types">Effect Types</a></li>
                <li><a href="#effect-chaining">Effect Chaining</a></li>
                <li><a href="#effect-resolution">Effect Resolution</a></li>
              </ul>
            </li>
            <li>
              <a href="#prompts">Prompt System</a>
              <ul>
                <li><a href="#prompt-types">Prompt Types</a></li>
                <li><a href="#prompt-handling">Prompt Handling</a></li>
              </ul>
            </li>
          </ul>
        </div>

        <div class="nav-section">
          <h3>Best Practices</h3>
          <ul>
            <li><a href="#code-organization">Code Organization</a></li>
            <li><a href="#prefab-usage">Using Prefabs</a></li>
            <li><a href="#effect-patterns">Effect Patterns</a></li>
            <li><a href="#common-pitfalls">Common Pitfalls</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <h1>Pokémon Trading Card Game Implementation Guide</h1>

      <section id="introduction" class="documentation-section">
        <h1>Pokémon TCG Implementation Guide</h1>

        <div class="section-intro">
          <p>This documentation covers the implementation of the Pokémon Trading Card Game, focusing on card creation,
            effect systems, and the prefab architecture.</p>
        </div>

        <div class="key-features">
          <h3>Key Features</h3>
          <ul>
            <li>Modular card implementation system</li>
            <li>Reusable prefab effects</li>
            <li>Type-safe effect handling</li>
            <li>State management system</li>
          </ul>
        </div>
      </section>

      <section id="core-concepts" class="documentation-section">
        <h2>Core Concepts</h2>

        <div class="concept-grid">
          <div class="concept-card">
            <h3>Cards</h3>
            <div class="implementation-box">
              <div class="code-comparison">
                <h4>Base Card Structure</h4>
                <pre><code class="typescript">
export abstract class Card {
    public id: string;
    public name: string;
    public set: string;
    public number: string;
    public tags: CardTag[] = [];
}
                </code></pre>
                <div class="file-reference">📁 ptcg-server/src/game/store/card/card.ts</div>
              </div>
            </div>
          </div>

          <div class="concept-card">
            <h3>Effects</h3>
            <div class="implementation-box">
              <div class="code-comparison">
                <h4>Effect System</h4>
                <pre><code class="typescript">
export abstract class Effect {
    public preventDefault: boolean = false;
    public source?: Card;
}

export class AttackEffect extends Effect {
    constructor(
        public player: Player,
        public attack: Attack
    ) {
        super();
    }
}
                </code></pre>
                <div class="file-reference">📁 ptcg-server/src/game/store/effects/effect.ts</div>
              </div>
            </div>
          </div>

          <div class="concept-card">
            <h3>Prefabs</h3>
            <div class="implementation-box">
              <div class="code-comparison">
                <h4>Standard Implementation</h4>
                <pre><code class="typescript">
// Without prefabs
if (effect instanceof AttackEffect && effect.attack === this.attacks[0]) {
    const dealDamage = new DealDamageEffect(effect, 30);
    dealDamage.target = opponent.active;
    state = store.reduceEffect(state, dealDamage);
    
    const applyWeakness = new ApplyWeaknessEffect(effect, dealDamage.damage);
    state = store.reduceEffect(state, applyWeakness);
}
                </code></pre>
              </div>
              <div class="code-comparison">
                <h4>Using Prefabs</h4>
                <pre><code class="typescript">
// With prefabs
if (WAS_ATTACK_USED(effect, 0, this)) {
    return DEAL_DAMAGE_WITH_WEAKNESS(
        store, state, effect, opponent.active, 30
    );
}
                </code></pre>
                <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
              </div>
            </div>
          </div>
        </div>

        <div class="best-practice">
          <h4>Best Practice</h4>
          <p>Always prefer using prefabs over implementing common effects manually. Prefabs ensure consistency, reduce
            bugs, and make code more maintainable.</p>
        </div>
      </section>

      <style>
        .concept-grid {
          display: grid;
          grid-template-columns: 1fr;
          gap: 2rem;
          margin: 2rem 0;
        }

        @media (min-width: 1200px) {
          .concept-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        .concept-card {
          background: white;
          border-radius: 8px;
          padding: 2rem;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .concept-card h3 {
          color: var(--primary-color);
          margin-bottom: 1rem;
        }

        .best-practice {
          background-color: #d4edda;
          border-left: 4px solid #28a745;
          padding: 1.5rem;
          margin: 2rem 0;
          border-radius: 4px;
        }

        .best-practice h4 {
          color: #155724;
          margin-bottom: 0.5rem;
        }

        .file-reference {
          font-family: monospace;
          color: #6c757d;
          background-color: #e9ecef;
          padding: 0.5rem;
          border-radius: 3px;
          margin-top: 0.5rem;
          font-size: 0.9em;
        }
      </style>
      </section>

      <section id="prefabs" class="documentation-section">
        <h2>Prefab System</h2>

        <div class="section-intro">
          <p>Prefabs provide reusable, standardized implementations of common game mechanics. This section covers the
            main
            prefab categories and their usage.</p>
        </div>

        <div class="prefab-category" id="effect-checking-prefabs">
          <h3>Effect Checking Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (effect instanceof AttackEffect && effect.attack === this.attacks[0]) {
    // Handle attack effect
}

if (effect instanceof PowerEffect && effect.power === this.powers[0]) {
    // Handle ability effect
}
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
if (WAS_ATTACK_USED(effect, 0, this)) {
    // Handle attack effect
}

if (WAS_POWER_USED(effect, 0, this)) {
    // Handle ability effect
}
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
            <div class="example-usage">
              <h4>Example Card Implementation</h4>
              <pre><code class="typescript">
export class Pikachu extends PokemonCard {
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_ATTACK_USED(effect, 0, this)) {
            return DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 30);
        }
        return state;
    }
}
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/cards/base/pikachu.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="damage-prefabs">
          <h3>Damage Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (effect instanceof AttackEffect) {
    const damageEffect = new DealDamageEffect(effect, 30);
    damageEffect.target = opponent.active;
    state = store.reduceEffect(state, damageEffect);

    // Conditional extra damage
    if (opponent.active.getPokemonCard()?.tags.includes(CardTag.POKEMON_V)) {
        effect.damage += 30;
    }
}
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
// Basic damage
DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 30);

// Conditional damage
DEAL_MORE_DAMAGE_IF_OPPONENT_ACTIVE_HAS_CARD_TAG(
    effect, state, 30, CardTag.POKEMON_V
);

// Prize-based damage
DEAL_MORE_DAMAGE_FOR_EACH_PRIZE_CARD_TAKEN(effect, state, 20);
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
            <div class="example-usage">
              <h4>Example Card Implementation</h4>
              <pre><code class="typescript">
export class Raichu extends PokemonCard {
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_ATTACK_USED(effect, 0, this)) {
            state = DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 90);
            DEAL_MORE_DAMAGE_IF_OPPONENT_ACTIVE_HAS_CARD_TAG(
                effect, state, 30, CardTag.POKEMON_V, CardTag.POKEMON_VMAX
            );
            return state;
        }
        return state;
    }
}
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/raichu.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="deck-manipulation-prefabs">
          <h3>Deck Manipulation Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (player.deck.cards.length === 0) {
    throw new GameError(GameMessage.NO_CARDS_IN_DECK);
}

return store.prompt(state, new ChooseCardsPrompt(
    player,
    GameMessage.CHOOSE_CARD_TO_HAND,
    player.deck,
    { superType: SuperType.POKEMON },
    { min: 0, max: 1 }
), selected => {
    const cards = selected || [];
    cards.forEach(card => {
        StateUtils.findCardList(state, card).moveCardTo(card, player.hand);
    });
    // Shuffle deck
    store.prompt(state, new ShuffleDeckPrompt(player.id), () => {});
});
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
SEARCH_YOUR_DECK_FOR_POKEMON_AND_PUT_INTO_HAND(
    store, state, player, 
    { cardType: CardType.LIGHTNING }, // Optional filter
    { max: 1 } // Optional prompt options
);

// Or for specific deck positions
GET_CARDS_ON_BOTTOM_OF_DECK(player, 3);

// Draw until specific hand size
DRAW_CARDS_UNTIL_CARDS_IN_HAND(player, 6);
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="special-conditions-prefabs">
          <h3>Special Conditions & Markers</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs - Adding conditions
if (effect instanceof AttackEffect) {
    const conditionEffect = new AddSpecialConditionsEffect(
        effect,
        [SpecialCondition.ASLEEP]
    );
    conditionEffect.target = opponent.active;
    state = store.reduceEffect(state, conditionEffect);
}

// Without prefabs - Adding markers
if (effect instanceof AttackEffect) {
    opponent.active.marker.addMarker('CANT_RETREAT', this);
    
    if (effect instanceof EndTurnEffect 
        && effect.player.active.marker.hasMarker('CANT_RETREAT', this)) {
        effect.player.active.marker.removeMarker('CANT_RETREAT', this);
    }
}
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
// Special conditions
ADD_SLEEP_TO_OPPONENT_ACTIVE(store, state, player, this);
ADD_CONFUSION_TO_PLAYER_ACTIVE(store, state, player, this);

// Markers
ADD_MARKER('CANT_RETREAT', opponent.active, this);
REMOVE_MARKER_FROM_ACTIVE_AT_END_OF_TURN(effect, 'CANT_RETREAT', this);
BLOCK_RETREAT_IF_MARKER(effect, 'CANT_RETREAT', this);
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
            <div class="example-usage">
              <h4>Example Card Implementation</h4>
              <pre><code class="typescript">
export class Hypno extends PokemonCard {
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_ATTACK_USED(effect, 0, this)) {
            state = DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 30);
            state = ADD_SLEEP_TO_OPPONENT_ACTIVE(store, state, effect.player, this);
            ADD_MARKER('CANT_RETREAT', opponent.active, this);
            return state;
        }
        
        if (effect instanceof EndTurnEffect) {
            REMOVE_MARKER_FROM_ACTIVE_AT_END_OF_TURN(effect, 'CANT_RETREAT', this);
        }
        
        return state;
    }
}
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/cards/base/hypno.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="prize-prefabs">
          <h3>Prize Card Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (effect instanceof KnockOutEffect) {
    const prizeCount = effect.target.getPokemonCard()?.tags.includes(CardTag.POKEMON_V) 
        ? 2 : 1;
    
    return store.prompt(state, new ChoosePrizePrompt(
        player.id,
        { count: prizeCount }
    ), selected => {
        if (!selected) return state;
        selected.forEach(prize => {
            prize.moveTo(player.hand);
            player.prizesTaken += 1;
        });
        return state;
    });
}
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
// Take specific prizes
TAKE_SPECIFIC_PRIZES(store, state, player, prizes);

// Take X prizes with options
TAKE_X_PRIZES(store, state, player, 2, {
    destination: player.hand,
    promptOptions: { allowCancel: false }
});
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="tool-prefabs">
          <h3>Tool Card Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (!source.cards.includes(tool)) {
    return state;
}
const owner = StateUtils.findOwner(state, source);
state = store.reduceEffect(state, new MoveCardsEffect(
    source, 
    owner.getSlot(destinationSlot), 
    { cards: [tool] }
));
source.removeTool(tool);
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
// Remove single tool
REMOVE_TOOL(store, state, source, tool, SlotType.DISCARD);

// Remove multiple tools with prompt
REMOVE_TOOLS_FROM_POKEMON_PROMPT(
    store, state, player, target, 
    SlotType.DISCARD, 1, 2
);

// Choose Pokemon and remove tools
CHOOSE_TOOLS_TO_REMOVE_PROMPT(
    store, state, player, 
    PlayerType.ANY, SlotType.DISCARD, 
    1, 2
);
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
            <div class="example-usage">
              <h4>Example Card Implementation</h4>
              <pre><code class="typescript">
export class ToolScrapper extends TrainerCard {
    public trainerType = TrainerType.ITEM;
    
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (effect instanceof TrainerEffect && effect.trainerCard === this) {
            return CHOOSE_TOOLS_TO_REMOVE_PROMPT(
                store, state, effect.player,
                PlayerType.ANY, SlotType.DISCARD,
                1, 2
            );
        }
        return state;
    }
}
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/tool-scrapper.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="validation-prefabs">
          <h3>Validation & Blocking Prefabs</h3>
          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Standard Implementation</h4>
              <pre><code class="typescript">
// Without prefabs
if (player.deck.cards.length === 0) {
    throw new GameError(GameMessage.NO_CARDS_IN_DECK);
}

if (player.bench.length >= 5) {
    throw new GameError(GameMessage.BENCH_IS_FULL);
}

if (effect instanceof RetreatEffect 
    && effect.player.active.marker.hasMarker('CANT_RETREAT')) {
    throw new GameError(GameMessage.BLOCKED_BY_EFFECT);
}
            </code></pre>
            </div>
            <div class="code-comparison">
              <h4>Using Prefabs</h4>
              <pre><code class="typescript">
// Basic validations
BLOCK_IF_DECK_EMPTY(player);
BLOCK_IF_NO_SLOTS(slots);

// Effect blocking
BLOCK_EFFECT_IF_MARKER('CANT_RETREAT', player.active, this);
BLOCK_RETREAT_IF_MARKER(effect, 'CANT_RETREAT', this);

// Damage prevention
PREVENT_DAMAGE_IF_TARGET_HAS_MARKER(effect, 'PREVENT_DAMAGE', this);
            </code></pre>
              <div class="file-reference">📁 ptcg-server/src/game/store/prefabs/prefabs.ts</div>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="testing-prefabs">
          <h3>Testing Prefabs</h3>

          <div class="implementation-box">
            <div class="code-comparison">
              <h4>Basic Test Structure</h4>
              <pre><code class="typescript">
describe('Damage Prefabs', () => {
    let store: StoreLike;
    let state: State;
    let player: Player;
    let opponent: Player;

    beforeEach(() => {
        store = new TestStore();
        state = new State();
        player = state.players[0];
        opponent = state.players[1];
    });

    test('DEAL_DAMAGE_WITH_WEAKNESS handles resistance correctly', () => {
        // Arrange
        const effect = new AttackEffect(player, { damage: 100 });
        opponent.active.getPokemonCard().resistance = CardType.FIGHTING;

        // Act
        state = DEAL_DAMAGE_WITH_WEAKNESS(
            store, state, effect, opponent.active, 100
        );

        // Assert
        expect(opponent.active.damage).toBe(70); // 100 - 30 resistance
    });
});
            </code></pre>
              <div class="file-reference">📁 ptcg-server/tests/prefabs/damage-prefabs.test.ts</div>
            </div>

            <div class="example-usage">
              <h4>Complex Test Scenarios</h4>
              <pre><code class="typescript">
test('CHOOSE_TOOLS_TO_REMOVE_PROMPT handles multiple tools', () => {
    // Arrange
    const tool1 = new AirBalloon();
    const tool2 = new BigCharm();
    opponent.active.tools.push(tool1, tool2);

    // Mock user selection
    store.mockPrompt(ChooseCardsPrompt, [tool1]);

    // Act
    state = CHOOSE_TOOLS_TO_REMOVE_PROMPT(
        store, state, player, 
        PlayerType.TOP_PLAYER, 
        SlotType.DISCARD,
        1, 2
    );

    // Assert
    expect(opponent.active.tools).toHaveLength(1);
    expect(opponent.discard.cards).toContain(tool1);
});
            </code></pre>
            </div>
          </div>

          <div class="best-practice">
            <h4>Testing Best Practices</h4>
            <ul>
              <li>Test edge cases and error conditions</li>
              <li>Mock complex dependencies</li>
              <li>Verify state mutations</li>
              <li>Test marker cleanup</li>
              <li>Validate effect chains</li>
            </ul>
          </div>
        </div>

        <div class="prefab-category" id="additional-troubleshooting">
          <h3>Advanced Troubleshooting</h3>

          <div class="issue-card">
            <h4>Effect Chain Issues</h4>
            <div class="problem">
              <strong>Problem:</strong> Effects not chaining properly or breaking the chain.
            </div>
            <div class="solution">
              <strong>Solution:</strong>
              <pre><code class="typescript">
// Incorrect
if (WAS_ATTACK_USED(effect, 0, this)) {
    DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 30);
    ADD_MARKER('EFFECT_MARKER', opponent.active, this); // State not updated!
    return state;
}

// Correct
if (WAS_ATTACK_USED(effect, 0, this)) {
    state = DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 30);
    ADD_MARKER('EFFECT_MARKER', opponent.active, this);
    return state;
}
            </code></pre>
            </div>
          </div>

          <div class="issue-card">
            <h4>Prompt Handling</h4>
            <div class="problem">
              <strong>Problem:</strong> Prompts not resolving or handling cancellation properly.
            </div>
            <div class="solution">
              <strong>Solution:</strong>
              <pre><code class="typescript">
// Proper prompt handling
return store.prompt(state, new ChooseCardsPrompt(
    player,
    GameMessage.CHOOSE_CARD_TO_DISCARD,
    player.hand,
    {},
    { min: 1, max: 1, allowCancel: false }
), selected => {
    if (!selected) {
        return state; // Handle no selection
    }
    
    const [card] = selected;
    return MOVE_CARDS(store, state, player.hand, player.discard, {
        cards: [card]
    });
});
            </code></pre>
            </div>
          </div>

          <div class="issue-card">
            <h4>State Mutation Issues</h4>
            <div class="problem">
              <strong>Problem:</strong> Unexpected state changes or side effects.
            </div>
            <div class="solution">
              <strong>Solution:</strong>
              <pre><code class="typescript">
// Avoid direct state mutation
const cardList = StateUtils.findCardList(state, card);
const player = StateUtils.findOwner(state, cardList);

// Use prefabs for state changes
state = MOVE_CARDS(store, state, cardList, player.discard);
return state;
            </code></pre>
            </div>
          </div>
        </div>

        <div class="prefab-category" id="complex-examples">
          <h3>Complex Card Implementations</h3>

          <div class="example-card">
            <h4>Multi-Effect Attack</h4>
            <pre><code class="typescript">
export class CharizardVMAX extends PokemonCard {
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_ATTACK_USED(effect, 0, this)) {
            // Base damage calculation
            let baseDamage = 100;
            
            // Additional damage for each Fire energy
            const fireEnergy = this.cards.filter(
                card => card instanceof EnergyCard 
                && card.energyType === CardType.FIRE
            ).length;
            
            state = THIS_ATTACK_DOES_X_MORE_DAMAGE(
                effect, store, state, fireEnergy * 50
            );
            
            // Apply damage with weakness
            state = DEAL_DAMAGE_WITH_WEAKNESS(
                store, state, effect, 
                opponent.active, 
                baseDamage + (fireEnergy * 50)
            );
            
            // Discard energy effect
            return DISCARD_ALL_ENERGY_FROM_THIS_POKEMON(
                store, state, effect.player
            );
        }
        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/charizard-vmax.ts</div>
          </div>

          <div class="example-card">
            <h4>Complex Ability Chain</h4>
            <pre><code class="typescript">
export class DragoniteV extends PokemonCard {
    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_POWER_USED(effect, 0, this)) {
            // Validate ability usage
            BLOCK_IF_ABILITY_ALREADY_USED(effect.player, this);
            
            // Search deck for energy
            state = SEARCH_YOUR_DECK_FOR_CARDS(
                store, state, effect.player,
                { superType: SuperType.ENERGY },
                { max: 3 }
            );
            
            // Attach energy to Pokemon
            state = store.prompt(state, new ChoosePokemonPrompt(
                effect.player.id,
                GameMessage.CHOOSE_POKEMON_TO_ATTACH_CARDS,
                PlayerType.BOTTOM_PLAYER,
                [SlotType.ACTIVE, SlotType.BENCH]
            ), targets => {
                if (!targets || targets.length === 0) {
                    return state;
                }
                
                return ATTACH_ENERGY_TO_POKEMON(
                    store, state, effect.player,
                    targets[0]
                );
            });
            
            // Mark ability as used
            ABILITY_USED(effect.player, this);
            return state;
        }
        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/dragonite-v.ts</div>
          </div>
        </div>

        <div class="prefab-category" id="advanced-card-examples">
          <h3>Advanced Card Implementations</h3>

          <div class="example-card">
            <h4>Complex Stadium Effect</h4>
            <pre><code class="typescript">
export class TowerOfDarkness extends TrainerCard {
    public trainerType = TrainerType.STADIUM;

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        // Initial stadium setup
        if (effect instanceof TrainerEffect && effect.trainerCard === this) {
            state = DISCARD_A_STADIUM_CARD_IN_PLAY(state);
            ADD_MARKER('TOWER_OF_DARKNESS', state.stadium, this);
            return state;
        }

        // Once during turn effect
        if (effect instanceof AttachEnergyEffect 
            && HAS_MARKER('TOWER_OF_DARKNESS', state.stadium, this)
            && !HAS_MARKER('TOWER_USED_THIS_TURN', state.stadium, this)) {
            
            const energyCard = effect.energyCard;
            if (energyCard.energyType === CardType.DARKNESS) {
                state = DRAW_CARDS(store, state, effect.player, 2);
                ADD_MARKER('TOWER_USED_THIS_TURN', state.stadium, this);
            }
        }

        // Cleanup at end of turn
        if (effect instanceof EndTurnEffect) {
            REMOVE_MARKER('TOWER_USED_THIS_TURN', state.stadium, this);
        }

        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/tower-of-darkness.ts</div>
          </div>

          <div class="example-card">
            <h4>Multi-Stage Evolution Chain</h4>
            <pre><code class="typescript">
export class InteleonEngine extends PokemonCard {
    public powers = [{
        name: 'Shady Dealings',
        text: 'When you evolve this Pokémon, you may search your deck for up to 2 Trainer cards, reveal them, and put them into your hand.',
        useWhenEvolved: true
    }];

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        // Evolution ability trigger
        if (JUST_EVOLVED(effect, this)) {
            return store.prompt(state, new ConfirmPrompt(
                effect.player.id,
                GameMessage.WANT_TO_USE_ABILITY
            ), confirmed => {
                if (!confirmed) {
                    return state;
                }

                // Search for trainers
                return SEARCH_YOUR_DECK_FOR_CARDS(
                    store, state, effect.player,
                    { superType: SuperType.TRAINER },
                    { max: 2 }
                );
            });
        }

        // Attack implementation
        if (WAS_ATTACK_USED(effect, 0, this)) {
            state = DEAL_DAMAGE_WITH_WEAKNESS(
                store, state, effect, opponent.active, 40
            );

            // Additional snipe damage to bench
            return store.prompt(state, new ChoosePokemonPrompt(
                effect.player.id,
                GameMessage.CHOOSE_POKEMON_TO_DAMAGE,
                PlayerType.TOP_PLAYER,
                [SlotType.BENCH],
                { min: 0, max: 2 }
            ), targets => {
                if (!targets || targets.length === 0) {
                    return state;
                }

                targets.forEach(target => {
                    state = DEAL_DAMAGE_WITH_WEAKNESS(
                        store, state, effect, target, 20
                    );
                });
                return state;
            });
        }

        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/inteleon.ts</div>
          </div>

          <div class="example-card">
            <h4>Complex Tool Card</h4>
            <pre><code class="typescript">
export class AirBalloon extends TrainerCard {
    public trainerType = TrainerType.TOOL;

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        // Initial attachment
        if (effect instanceof TrainerEffect && effect.trainerCard === this) {
            return ATTACH_TOOL_TO_POKEMON(store, state, effect.player);
        }

        // Retreat cost reduction
        if (effect instanceof CheckRetreatCostEffect) {
            const cardList = StateUtils.findCardList(state, this);
            if (cardList === effect.player.active) {
                effect.cost = Math.max(0, effect.cost - 1);
            }
        }

        // Handle tool removal
        if (effect instanceof RemoveToolEffect && effect.tool === this) {
            const cardList = StateUtils.findCardList(state, this);
            return MOVE_CARDS(store, state, cardList, effect.destination, {
                cards: [this]
            });
        }

        // Prevent certain effects
        if (effect instanceof AddSpecialConditionsEffect) {
            const cardList = StateUtils.findCardList(state, this);
            if (cardList === effect.target 
                && effect.conditions.includes(SpecialCondition.ASLEEP)) {
                effect.preventDefault = true;
            }
        }

        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/air-balloon.ts</div>
          </div>

          <div class="example-card">
            <h4>Complex VSTAR Power</h4>
            <pre><code class="typescript">
export class ArceusPokemonVSTAR extends PokemonCard {
    public powers = [{
        name: 'Starbirth',
        type: PowerType.VSTAR,
        text: 'Search your deck for up to 2 cards and put them into your hand. Then, shuffle your deck.'
    }];

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        // VSTAR power
        if (WAS_POWER_USED(effect, 0, this)) {
            // Validate VSTAR power usage
            BLOCK_IF_VSTAR_POWER_ALREADY_USED(effect.player);
            
            // Search deck
            state = SEARCH_YOUR_DECK_FOR_CARDS(
                store, state, effect.player,
                {}, // No filter - can get any card
                { max: 2 }
            );

            // Mark VSTAR power as used
            state = MARK_VSTAR_POWER_USED(store, state, effect.player);
            return state;
        }

        // Main attack
        if (WAS_ATTACK_USED(effect, 0, this)) {
            state = DEAL_DAMAGE_WITH_WEAKNESS(
                store, state, effect, opponent.active, 130
            );

            // Energy acceleration effect
            return store.prompt(state, new ChoosePokemonPrompt(
                effect.player.id,
                GameMessage.CHOOSE_POKEMON_TO_ATTACH_CARDS,
                PlayerType.BOTTOM_PLAYER,
                [SlotType.BENCH]
            ), targets => {
                if (!targets || targets.length === 0) {
                    return state;
                }

                return SEARCH_YOUR_DECK_FOR_CARDS(
                    store, state, effect.player,
                    { superType: SuperType.ENERGY },
                    { max: 1 }
                ).then(cards => {
                    if (!cards || cards.length === 0) {
                        return state;
                    }

                    return ATTACH_ENERGY_TO_POKEMON(
                        store, state, effect.player,
                        targets[0], cards[0]
                    );
                });
            });
        }

        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/arceus-vstar.ts</div>
          </div>

          <div class="best-practice">
            <h4>Complex Card Implementation Tips</h4>
            <ul>
              <li>Break down complex effects into smaller, manageable pieces</li>
              <li>Use prefabs for standard operations</li>
              <li>Handle all edge cases and cleanup</li>
              <li>Maintain proper state management throughout chains</li>
              <li>Use clear naming for markers and effects</li>
              <li>Add comments for complex logic flows</li>
            </ul>
          </div>
        </div>
  </div>
  </section>

  <section id="card-types" class="documentation-section">
    <h2>Card Types</h2>

    <div class="type-grid">
      <div class="type-card" id="pokemon-cards">
        <h3>Pokémon Cards</h3>
        <div class="implementation-box">
          <div class="code-comparison">
            <h4>Basic Structure</h4>
            <pre><code class="typescript">
export class PikachuV extends PokemonCard {
    public tags = [CardTag.POKEMON_V];
    public stage: Stage = Stage.BASIC;
    public cardType: CardType = CardType.LIGHTNING;
    public hp: number = 190;
    public weakness = [{ type: CardType.FIGHTING }];
    public retreat = [CardType.COLORLESS, CardType.COLORLESS];

    public attacks = [{
        name: 'Thunderbolt',
        cost: [CardType.LIGHTNING, CardType.COLORLESS],
        damage: 120,
        text: 'Discard all Energy from this Pokémon.'
    }];

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (WAS_ATTACK_USED(effect, 0, this)) {
            state = DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 120);
            return DISCARD_ALL_ENERGY_FROM_THIS_POKEMON(store, state, effect.player);
        }
        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/pikachu-v.ts</div>
          </div>
          <div class="info-box">
            <h4>Key Components</h4>
            <ul>
              <li>Card Tags (V, VMAX, etc.)</li>
              <li>Stage (Basic, Stage 1, Stage 2)</li>
              <li>Type and HP</li>
              <li>Attacks and Abilities</li>
              <li>Effect Handling</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="type-card" id="trainer-cards">
        <h3>Trainer Cards</h3>
        <div class="implementation-box">
          <div class="code-comparison">
            <h4>Basic Structure</h4>
            <pre><code class="typescript">
export class BosssOrders extends TrainerCard {
    public trainerType: TrainerType = TrainerType.SUPPORTER;
    public regulationMark = 'F';
    public text = 'Switch 1 of your opponent's Benched Pokémon with their Active Pokémon.';

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (effect instanceof TrainerEffect && effect.trainerCard === this) {
            return SWITCH_OPPONENT_POKEMON(store, state, effect.player);
        }
        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/sword-shield/bosss-orders.ts</div>
          </div>
          <div class="info-box">
            <h4>Trainer Types</h4>
            <ul>
              <li>Supporter</li>
              <li>Item</li>
              <li>Stadium</li>
              <li>Tool</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="type-card" id="energy-cards">
        <h3>Energy Cards</h3>
        <div class="implementation-box">
          <div class="code-comparison">
            <h4>Basic Structure</h4>
            <pre><code class="typescript">
export class DoubleColorlessEnergy extends EnergyCard {
    public provides = [CardType.COLORLESS, CardType.COLORLESS];
    public energyType = CardType.COLORLESS;
    public special = true;

    public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
        if (effect instanceof CheckProvidedEnergyEffect) {
            return CHECK_SPECIAL_ENERGY_PROVISION(store, state, effect, this.provides);
        }
        return state;
    }
}
            </code></pre>
            <div class="file-reference">📁 ptcg-server/src/game/cards/base/double-colorless-energy.ts</div>
          </div>
          <div class="info-box">
            <h4>Energy Types</h4>
            <ul>
              <li>Basic Energy</li>
              <li>Special Energy</li>
              <li>Multiple Energy Provision</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="best-practice">
      <h4>Implementation Tips</h4>
      <ul>
        <li>Use prefabs for common effect patterns</li>
        <li>Keep effect handling modular and focused</li>
        <li>Validate card states before applying effects</li>
        <li>Use type checking for effect handling</li>
      </ul>
    </div>
  </section>

  <section id="effect-system" class="documentation-section">
    <h2>Effect System</h2>

    <div class="section-intro">
      <p>The effect system handles all game actions and state changes through a predictable flow.</p>
    </div>

    <div class="implementation-box">
      <div class="code-comparison">
        <h4>Effect Types</h4>
        <pre><code class="typescript">
// Attack Effects
export class AttackEffect extends Effect {
    constructor(
        public player: Player,
        public attack: Attack
    ) {
        super();
    }
}

// Damage Effects
export class DealDamageEffect extends Effect {
    constructor(
        public source: Effect,
        public damage: number
    ) {
        super();
    }
    public target?: PokemonCardList;
}

// Special Condition Effects
export class AddSpecialConditionsEffect extends Effect {
    constructor(
        public source: Effect,
        public conditions: SpecialCondition[]
    ) {
        super();
    }
    public target?: PokemonCardList;
}
        </code></pre>
        <div class="file-reference">📁 ptcg-server/src/game/store/effects/effect.ts</div>
      </div>

      <div class="info-box">
        <h4>Effect Categories</h4>
        <ul>
          <li>Attack Effects</li>
          <li>Ability Effects</li>
          <li>Trainer Effects</li>
          <li>Game State Effects</li>
          <li>Special Conditions</li>
        </ul>
      </div>
    </div>

    <div class="implementation-box">
      <div class="code-comparison">
        <h4>Effect Resolution</h4>
        <pre><code class="typescript">
// Standard Effect Resolution
public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
    if (effect instanceof AttackEffect && effect.attack === this.attacks[0]) {
        // Apply damage
        const damageEffect = new DealDamageEffect(effect, 50);
        damageEffect.target = opponent.active;
        state = store.reduceEffect(state, damageEffect);
        
        // Apply special condition
        const conditionEffect = new AddSpecialConditionsEffect(
            effect, 
            [SpecialCondition.ASLEEP]
        );
        conditionEffect.target = opponent.active;
        return store.reduceEffect(state, conditionEffect);
    }
    return state;
}

// Using Prefabs
public reduceEffect(store: StoreLike, state: State, effect: Effect): State {
    if (WAS_ATTACK_USED(effect, 0, this)) {
        state = DEAL_DAMAGE_WITH_WEAKNESS(store, state, effect, opponent.active, 50);
        return ADD_SLEEP_TO_OPPONENT_ACTIVE(store, state, effect.player, this);
    }
    return state;
}
        </code></pre>
        <div class="file-reference">📁 ptcg-server/src/game/cards/example/sleepy-attacker.ts</div>
      </div>
    </div>
  </section>

  <style>
    .example-box {
      background-color: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 20px;
      margin: 20px 0;
    }

    .file-path {
      color: #6c757d;
      font-family: monospace;
      margin-top: 10px;
      padding: 5px;
      background-color: #e9ecef;
      border-radius: 3px;
    }

    .best-practices {
      background-color: #e3f2fd;
      padding: 20px;
      border-radius: 4px;
      margin: 20px 0;
    }

    .intro-box {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 15px 0;
    }

    .nav-header {
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 2rem;
    }

    .nav-header h1 {
      font-size: 1.5rem;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .version {
      font-size: 0.875rem;
      color: var(--secondary-color);
    }

    .nav-section {
      margin-bottom: 2rem;
    }

    .nav-section h3 {
      color: var(--primary-color);
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }

    .nav-section ul {
      list-style: none;
      padding-left: 0.5rem;
    }

    .nav-section ul ul {
      padding-left: 1.5rem;
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .nav-section li {
      margin-bottom: 0.5rem;
    }

    .nav-section a {
      color: var(--text-color);
      text-decoration: none;
      font-size: 0.95rem;
      transition: color 0.2s;
    }

    .nav-section a:hover {
      color: var(--secondary-color);
    }

    .nav-content {
      height: calc(100vh - 150px);
      overflow-y: auto;
      padding-right: 1rem;
    }

    /* Scrollbar styling */
    .nav-content::-webkit-scrollbar {
      width: 6px;
    }

    .nav-content::-webkit-scrollbar-track {
      background: var(--background-color);
    }

    .nav-content::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .nav-content::-webkit-scrollbar-thumb:hover {
      background: #999;
    }

    .type-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }

    @media (min-width: 1200px) {
      .type-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .type-card {
      background: white;
      border-radius: 8px;
      padding: 2rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .info-box {
      background-color: #e8f4fd;
      padding: 1.5rem;
      border-radius: 4px;
      margin-top: 1rem;
    }

    .info-box ul {
      list-style-type: none;
      padding-left: 0;
    }

    .info-box li {
      margin-bottom: 0.5rem;
      padding-left: 1.5rem;
      position: relative;
    }

    .info-box li:before {
      content: "•";
      color: var(--secondary-color);
      position: absolute;
      left: 0;
    }
  </style>
  </main>
  </div>
</body>

</html>